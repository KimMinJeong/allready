<?xml version="1.0" encoding="EUC-KR"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" 
"http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="comments">
   <typeAlias alias="comments" type="kr.ac.apart.vo.CommentsVO"/>
   
   <resultMap id="commentsMap" class="comments">
      <result property="comments_no" column="COMMENTS_NO"/>
      <result property="board_no" column="BOARD_NO"  />
      <result property="writer_id" column="WRITER_ID" />
      <result property="contents" column="CONTENTS" nullValue=""/>
      <result property="reg_date" column="REG_DATE" nullValue=""/>
   </resultMap>
   

   <insert id="addComments" parameterClass="comments">
         INSERT INTO COMMENTS
         VALUES(seq_comments_no.nextval, #board_no#,#writer_id#,#contents#,sysdate)
   </insert>
   
   <select id="getComments" parameterClass="java.lang.Integer" resultClass="comments">
   		SELECT *
   		FROM COMMENTS
   		WHERE BOARD_NO=#board_no#
   </select>

<!--    <select id="getVisitorListManager" resultMap="visitResult" parameterClass="java.lang.String"> -->
<!--    <![CDATA[ -->
<!--       SELECT * -->
<!--       FROM VISIT_RECORD    -->
<!--       ORDER BY REG_DATE DESC -->
<!--    ]]> -->
<!--    </select> -->
   
<!--    <select id="getRegDate" resultClass="String"> -->
<!--       <![CDATA[ -->
<!--          SELECT MAX(REG_DATE) -->
<!--          FROM VISIT_RECORD -->
<!--       ]]> -->
<!--    </select> -->
   
<!--    <delete id="deleteVisitRecord" parameterClass="java.lang.Integer"> -->
<!--       <![CDATA[ -->
<!--          DELETE -->
<!--          FROM VISIT_RECORD -->
<!--          WHERE VR_NO = #visit_record_no# -->
<!--       ]]> -->
      
<!--    </delete> -->
   
<!--    <update id="addVisitRecord" parameterClass="java.lang.Integer"> -->
<!--          INSERT INTO VISIT_RECORD(VR_NO, VISITOR_NO) -->
<!--          VALUES(seq_visit_record.nextval, #visitor_no#) -->
<!--    </update> -->
   
<!--    <select id="getMaxVisitRecordNo" resultClass="int"> -->
<!--       SELECT MAX(VR_NO) -->
<!--       FROM VISIT_RECORD -->
<!--    </select> -->

</sqlMap>
